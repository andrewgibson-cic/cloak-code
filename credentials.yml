# CloakCode Universal Credential Configuration
# This file defines which APIs the system supports and their security policies
# Add new credentials here without modifying code!

version: "1.0"

credentials:
  # OpenAI Configuration
  openai:
    display_name: "OpenAI API"
    dummy_token: "DUMMY_OPENAI_KEY"
    env_var: "REAL_OPENAI_API_KEY"
    header_locations:
      - name: "Authorization"
        format: "Bearer {token}"
    allowed_hosts:
      - "api.openai.com"
      - "openai.com"
    docs_url: "https://platform.openai.com/api-keys"
    
  # GitHub Configuration  
  github:
    display_name: "GitHub Personal Access Token"
    dummy_token: "DUMMY_GITHUB_TOKEN"
    env_var: "REAL_GITHUB_TOKEN"
    header_locations:
      - name: "Authorization"
        format: "token {token}"
      - name: "X-GitHub-Token"
        format: "{token}"
    query_param_names:
      - "access_token"
    allowed_hosts:
      - "api.github.com"
      - "github.com"
      - "*.github.com"
      - "raw.githubusercontent.com"
    docs_url: "https://github.com/settings/tokens"
    
  # Anthropic Configuration
  anthropic:
    display_name: "Anthropic API"
    dummy_token: "DUMMY_ANTHROPIC_KEY"
    env_var: "REAL_ANTHROPIC_API_KEY"
    header_locations:
      - name: "x-api-key"
        format: "{token}"
      - name: "anthropic-api-key"
        format: "{token}"
    allowed_hosts:
      - "api.anthropic.com"
      - "anthropic.com"
    docs_url: "https://console.anthropic.com/settings/keys"
    
  # AWS Configuration
  aws_access:
    display_name: "AWS Access Key ID"
    dummy_token: "DUMMY_AWS_ACCESS_KEY"
    env_var: "REAL_AWS_ACCESS_KEY_ID"
    header_locations:
      - name: "Authorization"
        format: "AWS4-HMAC-SHA256 Credential={token}"
      - name: "X-Amz-Access-Key"
        format: "{token}"
    allowed_hosts:
      - "*.amazonaws.com"
      - "aws.amazon.com"
    docs_url: "https://console.aws.amazon.com/iam/home#/security_credentials"
    requires_signature: true
    
  aws_secret:
    display_name: "AWS Secret Access Key"
    dummy_token: "DUMMY_AWS_SECRET_KEY"
    env_var: "REAL_AWS_SECRET_ACCESS_KEY"
    header_locations:
      - name: "X-Amz-Secret-Key"
        format: "{token}"
    allowed_hosts:
      - "*.amazonaws.com"
      - "aws.amazon.com"
    docs_url: "https://console.aws.amazon.com/iam/home#/security_credentials"
    requires_signature: true
    
  # Binance API (Example: Cryptocurrency Exchange)
  binance:
    display_name: "Binance API"
    dummy_token: "DUMMY_BINANCE_KEY"
    env_var: "REAL_BINANCE_API_KEY"
    header_locations:
      - name: "X-MBX-APIKEY"
        format: "{token}"
    allowed_hosts:
      - "api.binance.com"
      - "api1.binance.com"
      - "api2.binance.com"
      - "api3.binance.com"
      - "testnet.binance.vision"
    docs_url: "https://www.binance.com/en/support/faq/how-to-create-api-keys-on-binance-360002502072"
    
  # eBay API (Example: E-commerce Platform)
  ebay:
    display_name: "eBay API"
    dummy_token: "DUMMY_EBAY_TOKEN"
    env_var: "REAL_EBAY_OAUTH_TOKEN"
    header_locations:
      - name: "Authorization"
        format: "Bearer {token}"
    allowed_hosts:
      - "api.ebay.com"
      - "api.sandbox.ebay.com"
      - "*.ebay.com"
    docs_url: "https://developer.ebay.com/api-docs/static/oauth-tokens.html"
    
  # Stripe (Example: Payment Processing)
  stripe:
    display_name: "Stripe API"
    dummy_token: "DUMMY_STRIPE_KEY"
    env_var: "REAL_STRIPE_SECRET_KEY"
    header_locations:
      - name: "Authorization"
        format: "Bearer {token}"
    allowed_hosts:
      - "api.stripe.com"
    docs_url: "https://stripe.com/docs/keys"
    
  # Twilio (Example: Communications API)
  twilio:
    display_name: "Twilio API"
    dummy_token: "DUMMY_TWILIO_KEY"
    env_var: "REAL_TWILIO_AUTH_TOKEN"
    header_locations:
      - name: "Authorization"
        format: "Basic {token}"
    allowed_hosts:
      - "api.twilio.com"
      - "*.twilio.com"
    docs_url: "https://www.twilio.com/console"
    
  # SendGrid (Example: Email API)
  sendgrid:
    display_name: "SendGrid API"
    dummy_token: "DUMMY_SENDGRID_KEY"
    env_var: "REAL_SENDGRID_API_KEY"
    header_locations:
      - name: "Authorization"
        format: "Bearer {token}"
    allowed_hosts:
      - "api.sendgrid.com"
    docs_url: "https://app.sendgrid.com/settings/api_keys"
    
  # Slack (Example: Team Communication)
  slack:
    display_name: "Slack Bot Token"
    dummy_token: "DUMMY_SLACK_TOKEN"
    env_var: "REAL_SLACK_BOT_TOKEN"
    header_locations:
      - name: "Authorization"
        format: "Bearer {token}"
    allowed_hosts:
      - "slack.com"
      - "*.slack.com"
    docs_url: "https://api.slack.com/authentication/token-types"
    
  # Discord (Example: Gaming/Community Platform)
  discord:
    display_name: "Discord Bot Token"
    dummy_token: "DUMMY_DISCORD_TOKEN"
    env_var: "REAL_DISCORD_BOT_TOKEN"
    header_locations:
      - name: "Authorization"
        format: "Bot {token}"
    allowed_hosts:
      - "discord.com"
      - "*.discord.com"
    docs_url: "https://discord.com/developers/applications"

# Global security settings
security:
  # Block known telemetry and analytics endpoints
  block_telemetry: true
  telemetry_blocklist:
    - "telemetry.anthropic.com"
    - "analytics.anthropic.com"
    - "sentry.io"
    - "segment.com"
    - "mixpanel.com"
    - "amplitude.com"
    - "google-analytics.com"
    - "googletagmanager.com"
    - "hotjar.com"
    - "fullstory.com"
    
  # Action for requests to hosts not in any whitelist
  # Options: "block", "allow", "warn"
  unknown_host_policy: "block"
  
  # Enable verbose logging for debugging
  verbose_logging: false
  
  # Rate limiting (future feature)
  rate_limit_enabled: false
  rate_limit_requests_per_minute: 100
